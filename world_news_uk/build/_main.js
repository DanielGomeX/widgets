$(document).ready(function(){function t(){var t=$(".js-block").eq(n).find(".js-title"),o=parseInt(t.css("width")),a=t.html().length;console.log(s*a),$(".js-block").eq(n).find(".js-title").animate({left:-o+"px"},s*a,"linear",function(){n++,e(),i.trigger("start")})}function e(){$(".js-block").hide().removeClass("active"),$(".js-block").eq(n).addClass("active").show()}var i=$(".js-content"),s=250,n=0;$.ajax({url:"http://widgets/world_news_uk/prod/server/index.php",dataType:"json",success:function(t){console.log("World News en data - ",t);var e=0;for(var s in t){var n,o,a=$("<div/>",{class:"content__block js-block"});t[s].hasDescr?(n=$("<div/>",{class:"content__block__title js-title",text:t[s].title}).attr("data-type","small"),o=$("<div/>",{class:"content__block__description",text:t[s].description}),n.appendTo(a),o.appendTo(a),a.appendTo(i)):(n=$("<div/>",{class:"content__block__title js-title",text:t[s].title}).css({position:"absolute",visibility:"hidden",left:"1440px"}).appendTo(a).attr("data-type","big"),a.addClass("big").appendTo(i)),e++,e===t.length&&i.trigger("create")}}}),i.on("create",function(){setTimeout(function(){$(".js-title").each(function(t,e){var i=$(e).width();$(this).css({width:i,visibility:"visible"})}),i.trigger("start")},50)}),i.on("start",function(){var s=$(".js-block").eq(n).find($(".js-title")).data("type");console.log(s),"big"==s?t():"small"==s&&setTimeout(function(){n++,e(),i.trigger("start")},2e3)})});