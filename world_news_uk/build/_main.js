$(document).ready(function(){function t(t){for(var e,s,i=t.length;i;e=parseInt(Math.random()*i),s=t[--i],t[i]=t[e],t[e]=s);return t}function e(){var t=$(".js-block").eq(c).find(".js-title"),e=parseInt(t.css("width")),i=t.html().length;$(".js-block").eq(c).find(".js-title").animate({left:-e+"px"},l*i,"linear",function(){c++,s(),o.trigger("start")})}function s(){$(".js-block").hide().removeClass("active"),$(".js-block").eq(c).addClass("active").show()}var i,n,a,o=$(".js-content"),l=350,c=0,r=0;$.ajax({url:"https://js.dooh.xyz/world_news_uk/server/index.php",dataType:"json",success:function(e){var s=0;i=Date.now(),e=t(e),r=e.length,console.log("World News uk data - ",e);for(var n in e){var a,l,c=$("<div/>",{class:"content__block js-block"});e[n].hasDescr?(a=$("<div/>",{class:"content__block__title js-title",text:e[n].title}).attr("data-type","small"),l=$("<div/>",{class:"content__block__description",text:e[n].description}),a.appendTo(c),l.appendTo(c),c.appendTo(o)):(a=$("<div/>",{class:"content__block__title js-title",text:e[n].title}).css({position:"absolute",visibility:"hidden",left:"1440px"}).appendTo(c).attr("data-type","big"),c.addClass("big").appendTo(o)),s++,s===e.length&&o.trigger("create")}}}),o.on("create",function(){setTimeout(function(){$(".js-title").each(function(t,e){var s=$(e).width();$(this).css({width:s,visibility:"visible"})}),o.trigger("start")},50)}),o.on("start",function(){var t=$(".js-block").eq(c).find($(".js-title")).data("type");c<=r-1?"big"===t?e():"small"===t&&setTimeout(function(){c++,s(),o.trigger("start")},1e4):(n=Date.now(),a=n-i,setTimeout(function(){location.reload()},4*a),c=0,$(".js-block").eq(c).addClass("active").show(),$(".js-title").css("left","1440px"),o.trigger("start"))})});