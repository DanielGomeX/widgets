<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>World News</title>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900&amp;subset=cyrillic" rel="stylesheet">
    <style>body,html{margin:0;padding:0;width:1440px;height:270px;font-family:Roboto,sans-serif;background:#222}div{box-sizing:border-box}.placeholder{position:relative;width:100%;height:100%;overflow:hidden;color:#000;padding:5px}.placeholder__inner{border:2px solid #fff;height:calc(100% - 10px)}.content{position:relative;font-size:0;height:100%;color:#fff}.content:before{position:absolute;content:"";display:block;height:100%;width:5px;left:-7px;background:#222;z-index:999}.content:after{position:absolute;content:"";display:block;height:100%;width:5px;top:0;right:-7px;background:#222;z-index:999}.content__block{font-size:14px;display:block;padding:10px;visibility:hidden;height:100%}.content__block.big{height:100%}.content__block.big .content__block__title{font-size:175px;white-space:nowrap}.content__block.active{visibility:visible}.content__block__title{font-size:40px;margin-bottom:25px;font-weight:900}.content__block__description{font-size:30px;line-height:34px;font-weight:500;visibility:visible}</style>
</head>
<body>
    <div class="placeholder">
        <div class="placeholder__inner">
            <div class="content js-content">

            </div>
        </div>
    </div>
<script>$(document).ready(function(){function t(t){for(var e,s,i=t.length;i;e=parseInt(Math.random()*i),s=t[--i],t[i]=t[e],t[e]=s);return t}function e(){var t=$(".js-block").eq(c).find(".js-title"),e=parseInt(t.css("width")),i=t.html().length;$(".js-block").eq(c).find(".js-title").animate({left:-e+"px"},l*i,"linear",function(){c++,s(),o.trigger("start")})}function s(){$(".js-block").hide().removeClass("active"),$(".js-block").eq(c).addClass("active").show()}var i,n,a,o=$(".js-content"),l=350,c=0,r=0;$.ajax({url:"https://js.dooh.xyz/world_news_uk/server/index.php",dataType:"json",success:function(e){var s=0;i=Date.now(),e=t(e),r=e.length,console.log("World News uk data - ",e);for(var n in e){var a,l,c=$("<div/>",{class:"content__block js-block"});e[n].hasDescr?(a=$("<div/>",{class:"content__block__title js-title",text:e[n].title}).attr("data-type","small"),l=$("<div/>",{class:"content__block__description",text:e[n].description}),a.appendTo(c),l.appendTo(c),c.appendTo(o)):(a=$("<div/>",{class:"content__block__title js-title",text:e[n].title}).css({position:"absolute",visibility:"hidden",left:"1440px"}).appendTo(c).attr("data-type","big"),c.addClass("big").appendTo(o)),s++,s===e.length&&o.trigger("create")}}}),o.on("create",function(){setTimeout(function(){$(".js-title").each(function(t,e){var s=$(e).width();$(this).css({width:s,visibility:"visible"})}),o.trigger("start")},50)}),o.on("start",function(){var t=$(".js-block").eq(c).find($(".js-title")).data("type");c<=r-1?"big"===t?e():"small"===t&&setTimeout(function(){c++,s(),o.trigger("start")},1e4):(n=Date.now(),a=n-i,setTimeout(function(){location.reload()},4*a),c=0,$(".js-block").eq(c).addClass("active").show(),$(".js-title").css("left","1440px"),o.trigger("start"))})});</script>
</body>
</html>