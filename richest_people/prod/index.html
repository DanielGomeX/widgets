<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>test_widget</title>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Oswald:200,300,400" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700,700i,900,900i&amp;subset=cyrillic" rel="stylesheet">
    <style>body,html{margin:0;padding:0;width:1440px;height:270px;background:url(https://images.freecreatives.com/wp-content/uploads/2015/04/natural-paper-background-texture-hd-5a0b.jpg) center no-repeat}body:before,html:before{content:"";display:block;position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,.6)}div{box-sizing:border-box}.placeholder{position:relative;width:100%;height:100%;overflow:hidden;font-family:Oswald,sans-serif;color:#000;border:2px solid #000;box-sizing:border-box}.widget-block{position:absolute;top:0;left:0;width:100%;height:100%;color:#000;opacity:0;font-size:0;transition:All .3s ease;-webkit-transition:All .3s ease;-moz-transition:All .3s ease;-o-transition:All .3s ease}.widget-block .plus{color:green}.widget-block .minus{color:red}.widget-block_bold{font-weight:700}.widget-block__place-block{display:inline-block;vertical-align:top;width:270px;text-align:center;padding-top:40px;font-size:25px}.widget-block__forbes{padding:10px 15px 0}.widget-block__career__text{height:30px;overflow:hidden}.widget-block__wrapper{position:absolute;right:0;top:0;display:inline-block;vertical-align:top;width:715px;overflow:hidden}.widget-block__title{padding:10px 0;margin:0 10px;border-bottom:2px solid #000}.widget-block__title .span{display:inline-block;vertical-align:baseline;line-height:35px}.widget-block__money__text{position:relative;text-decoration:underline;-webkit-text-decoration-color:green;text-decoration-color:green}.widget-block__place{display:inline-block;font-size:50px;line-height:50px}.widget-block__place span{font-size:65px;color:red;font-weight:700;margin-left:5px;font-style:normal}.widget-block__name{display:inline-block;font-weight:700;font-size:35px;margin-right:35px}.widget-block__age{margin-right:15px}.widget-block__image{position:relative;width:450px;height:100%;display:inline-block;vertical-align:top;right:0;z-index:99}.widget-block__image__image{max-height:100%}.widget-block__row{font-size:20px;width:715px}.widget-block__col{display:inline-block;vertical-align:top;font-size:20px}.widget-block__col_font-0{font-size:0}.widget-block__col__col{font-size:20px;display:inline-block;vertical-align:top;width:50%}.widget-block__subrow{position:relative;font-size:0;padding:0 10px 15px}.widget-block__subrow__col{display:inline-block;vertical-align:middle;font-size:25px;width:60%}.widget-block__subrow__col:last-child{width:40%;font-size:20px;text-align:center}.widget-block.active{opacity:1;transition:All .3s ease;-webkit-transition:All .3s ease;-moz-transition:All .3s ease;-o-transition:All .3s ease}</style>
</head>
<body>
    <div class="placeholder">
        <div class="content">
            <div class="widget-block" data-clone="true">
                <div class="widget-block__place-block">
                    <div class="widget-block__place span">#<span></span></div>
                    <div class="widget-block__spisok">в списке</div>
                    <div class="widget-block__forbes">
                        <img src="https://js.dooh.xyz/richest_people/server/forbes-logo.svg">
                    </div>
                </div>
                <div class="widget-block__image">
                    <img src="" class="widget-block__image__image">
                </div>
                <div class="widget-block__wrapper">
                    <div class="widget-block__row">
                        <div class="widget-block__title">
                            <span class="widget-block__name span"></span>
                            <span class="widget-block__age span">Возраст   <span></span></span>
                            <span class="widget-block__childrens span">Число детей   <span></span></span>
                        </div>
                    </div>
                    <div class="widget-block__row">
                        <div class="widget-block__row__col">
                            <div class="widget-block__subrow">
                                <div class="widget-block__change-place__title widget-block__subrow__col">Изменение позиции за год</div>
                                <div class="widget-block__change-place__text widget-block__subrow__col widget-block_bold"></div>
                            </div>
                            <div class="widget-block__subrow">
                                <div class="widget-block__career__title widget-block__subrow__col">Род деятельности</div>
                                <div class="widget-block__career__text widget-block__subrow__col"></div>
                            </div>
                        </div>
                        <div class="widget-block__row__col">
                            <div class="widget-block__subrow">
                                <div class="widget-block__money__title widget-block__subrow__col">Состояние $ млн</div>
                                <div class="widget-block__money__text widget-block__subrow__col widget-block_bold"></div>
                            </div>
                            <div class="widget-block__subrow">
                                <div class="widget-block__change-money__title widget-block__subrow__col">Изменение за год $ млн</div>
                                <div class="widget-block__change-money__text widget-block__subrow__col widget-block_bold"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<script>$(document).ready(function(){function e(e,t){var a="create"===t?$(".widget-block[data-clone=true]").clone(!0).attr("data-clone","false"):$(".widget-block[data-clone=true]");0==e.change_place.indexOf("+")?a.find(".widget-block__change-place__text").addClass("plus"):0==e.change_place.indexOf("-")?a.find(".widget-block__change-place__text").addClass("minus"):0==e.change_place.indexOf("=")&&(e.change_place="не изменилась"),0==e.change_money.indexOf("+")?a.find(".widget-block__change-money__text").addClass("plus"):0==e.change_money.indexOf("-")?a.find(".widget-block__change-money__text").addClass("minus"):0==e.change_money.indexOf("=")&&(e.change_place="не изменилась"),a.find(".widget-block__place span").html(e.place),a.find(".widget-block__name").html(e.name),a.find(".widget-block__image__image").attr("src",e.image),a.find(".widget-block__change-place__text").html(e.change_place),a.find(".widget-block__career__text").html(e.career),a.find(".widget-block__money__text").html(e.money),a.find(".widget-block__change-money__text").html(e.change_money),a.find(".widget-block__age span").html(e.age),a.find(".widget-block__childrens span").html(e.children),a.appendTo(".content")}$.ajax({url:"https://js.dooh.xyz/richest_people/server/index.php",success:function(t){console.log("richest_people data",JSON.parse(t));var a=JSON.parse(t);e(a[0],"new");for(var n=1;a.length>n;n++)e(a[n],"create");var i=0,c=setTimeout(function e(){i<a.length?setTimeout(function(){$(".widget-block.active").find(".widget-block__image").animate({right:"-1165px"},1e3,"linear"),setTimeout(function(){$(".widget-block.active").find(".widget-block__wrapper").animate({width:"0px"},850),i++},200),setTimeout(function(){$(".widget-block.active").removeClass("active"),setTimeout(function(){$(".widget-block").eq(i-1).find(".widget-block__image").delay(1500).attr("style",""),$(".widget-block").eq(i-1).find(".widget-block__wrapper").delay(1500).attr("style","")},1500),$(".widget-block").eq(i).fadeIn(1e3,function(){$(this).addClass("active")})},1200)},1e3,"linear"):i=0,c=setTimeout(e,8e3)},100);$(".widget-block").eq(0).addClass("active")}})});</script>
</body>
</html>