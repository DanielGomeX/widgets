$(document).ready(function(){function e(e,t){var n="create"===t?$(".js-block[data-clone=true]").clone().attr("data-clone","false"):$(".js-block[data-clone=true]");n.find(".js-flag").css("background-image","url("+e.flag+")"),n.find(".js-title").html(e.ru_name),n.find(".js-title").closest(".block").attr("title",e.ru_name),n.find(".js-gerb").css("background-image","url("+e.gerb+")"),n.find(".js-capital").html(e.capital),void 0!=e.locals?n.find(".js-locals").html(e.locals):n.find(".js-locals").closest(".block__row").css("display","none"),void 0!=e.currency?n.find(".js-currency").html(e.currency):n.find(".js-currency").closest(".block__row").css("display","none"),void 0!=e.phone_code?n.find(".js-phone-code").html(e.phone_code):n.find(".js-phone-code").closest(".block__row").css("display","none"),n.appendTo(".content")}function t(e){var s=$(".js-block").eq(e);s.addClass("active"),s.find(".js-flag").css({opacity:1}).delay(1500).animate({width:"70px",height:"70px",top:"6px",left:n(s.find(".js-title"),"left")-80+"px",margin:0},800),setTimeout(function(){s.find(".js-gerb").css({opacity:1}).delay(1500).animate({width:"70px",height:"70px",top:"6px",left:n(s.find(".js-title"),"right")+10+"px",margin:0},800)},2e3),setTimeout(function(){s.find(".block__content").addClass("active")},5e3),setTimeout(function(){s.removeClass("active"),t(o(0,88)[e+1])},8e3)}function n(e,t){return"left"===t?e.offset().left:e.offset().left+parseInt(e.width())}function o(e,t){for(var n,o=t-e+1,s=[],c=[];o--;)s.push(o+e);for(;s.length;)n=Math.round(Math.random()*(s.length-1)),c.push(s[n]),s.splice(n,1);return c}$.ajax({url:"https://js.dooh.xyz/countries/server/index.php",success:function(n){console.log("country_data",JSON.parse(n)),n=JSON.parse(n),e(n["Австралия"],"new"),n.length=0;for(var s in n){var c=n[s];n.length++,"Австралия"!=s&&e(c,"create")}setTimeout(function(){$(".preloader").hide(),$(".content").show(),t(o(0,88)[0])},2e3)},complete:function(){}})});