<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Страны мира</title>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Oswald:200,300,400" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700,700i,900,900i&amp;subset=cyrillic" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Alice" rel="stylesheet">
    <style>body,html{margin:0;padding:0;width:480px;height:360px}div{box-sizing:border-box}.placeholder{position:relative;width:100%;height:100%;overflow:hidden;font-family:Alice,serif;color:#000;border:2px solid #000;box-sizing:border-box;background:url(https://image.freepik.com/free-vector/abstract-gray-background-with-lines_1108-73.jpg) center}.content{width:100%;height:100%}.block{width:100%;height:100%;position:absolute;top:0;left:0;opacity:0}.block.active{opacity:1}.block__title{display:block;text-align:center;font-size:40px;line-height:40px;font-weight:700;padding:15px;font-family:Oswald,sans-serif}.block__title__text{display:inline-block;vertical-align:middle}.block__title__img{display:inline-block;vertical-align:bottom}.block__title__flag,.block__title__gerb{opacity:0;max-width:50px}.block__title__flag.min,.block__title__gerb.min{-webkit-transform:scale(1) translate(0,0);transform:scale(1) translate(0,0);transition:All 1s ease;opacity:1}.block__title__gerb{-webkit-transform:scale(6.5) translate(-17px,25px);transform:scale(6.5) translate(-17px,25px)}.block__title__flag{-webkit-transform:scale(5.5) translate(-11px,30px);transform:scale(5.5) translate(-11px,30px)}.block__content{opacity:0}.block__content.active{opacity:1;transition:All 1s ease}.block__caption{font-size:25px;font-weight:500;letter-spacing:1.2px}.block__row{font-size:0;padding:30px 15px 0}.block__row:first-child{padding-top:15px}.block__row__col{font-size:20px;display:inline-block;vertical-align:middle;width:60%}.block__row__col:last-child{width:40%}.block__row__col:last-child:first-letter{text-transform:uppercase}.block__text{display:inline-block;line-height:22px}.block__img{max-height:40px}</style>
</head>
<body>
    <div class="placeholder">
        <div class="content">
            <div class="block js-block" data-clone="true">
                <div class="block__title">
                    <span class="block__title__text js-title"></span>
                    <img src="" class="block__title__img block__title__flag block__img js-flag">
                    <img src="" class="block__title__img block__title__gerb block__img js-gerb">
                </div>
                <div class="block__content">
                    <div class="block__row">
                        <div class="block__row__col">
                            <span class="block__caption">Столица</span>
                        </div>
                        <div class="block__row__col js-capital"></div>
                    </div>
                    <div class="block__row">
                        <div class="block__row__col">
                            <span class="block__caption">Местные жители</span>
                        </div>
                        <div class="block__row__col js-locals"></div>
                    </div>
                    <div class="block__row">
                        <div class="block__row__col">
                            <span class="block__caption">Валюта</span>
                        </div>
                        <div class="block__row__col js-currency"></div>
                    </div>
                    <div class="block__row">
                        <div class="block__row__col">
                            <span class="block__caption">Телефонный код</span>
                        </div>
                        <div class="block__row__col  js-phone-code"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="preloader"></div>
    </div>
<script>$(document).ready(function(){function n(n,e){var t="create"===e?$(".js-block[data-clone=true]").clone(!0).attr("data-clone","false"):$(".js-block[data-clone=true]");t.find(".js-flag").attr("src",n.flag),t.find(".js-title").html(n.ru_name),t.find(".js-title").closest(".block").attr("title",n.ru_name),t.find(".js-gerb").attr("src",n.gerb),t.find(".js-capital").html(n.capital),void 0!=n.locals?t.find(".js-locals").html(n.locals):t.find(".js-locals").closest(".block__row").css("display","none"),void 0!=n.currency?t.find(".js-currency").html(n.currency):t.find(".js-currency").closest(".block__row").css("display","none"),void 0!=n.phone_code?t.find(".js-phone-code").html(n.phone_code):t.find(".js-phone-code").closest(".block__row").css("display","none"),t.appendTo(".content")}function e(n){var o=$(".js-block").eq(n);o.addClass("active"),o.find(".js-flag").animate({opacity:1},500),setTimeout(function(){o.find(".js-flag").addClass("min")},1500),setTimeout(function(){o.find(".js-gerb").animate({opacity:1},500)},1800),setTimeout(function(){o.find(".js-gerb").addClass("min"),o.find(".block__content").addClass("active")},3600),setTimeout(function(){o.removeClass("active"),e(t(0,88)[n+1])},8e3)}function t(n,e){for(var t,o=e-n+1,s=[],c=[];o--;)s.push(o+n);for(;s.length;)t=Math.round(Math.random()*(s.length-1)),c.push(s[t]),s.splice(t,1);return c}$.ajax({url:"http://widgets/countries/prod/server/info_new.json",success:function(o){console.log("country_data",o),n(o["Австралия"],"new"),o.length=0;for(var s in o){var c=o[s];o.length++,"Австралия"!=s&&n(c,"create")}setTimeout(function(){e(t(0,88)[0])},2e3)},complete:function(){}})});</script>
</body>
</html>