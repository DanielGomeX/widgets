<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Страны мира</title>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Oswald:200,300,400" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700,700i,900,900i&amp;subset=cyrillic" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Alice" rel="stylesheet">
    <style>#circularG{position:relative;width:58px;height:58px;margin:auto}.circularG{position:absolute;background-color:#000;width:14px;height:14px;border-radius:9px;-o-border-radius:9px;-ms-border-radius:9px;-webkit-border-radius:9px;-moz-border-radius:9px;animation-name:bounce_circularG;-o-animation-name:bounce_circularG;-ms-animation-name:bounce_circularG;-webkit-animation-name:bounce_circularG;-moz-animation-name:bounce_circularG;animation-duration:1.1s;-o-animation-duration:1.1s;-ms-animation-duration:1.1s;-webkit-animation-duration:1.1s;-moz-animation-duration:1.1s;animation-iteration-count:infinite;-o-animation-iteration-count:infinite;-ms-animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite;-moz-animation-iteration-count:infinite;animation-direction:normal;-o-animation-direction:normal;-ms-animation-direction:normal;-webkit-animation-direction:normal;-moz-animation-direction:normal}#circularG_1{left:0;top:23px;animation-delay:.41s;-o-animation-delay:.41s;-ms-animation-delay:.41s;-webkit-animation-delay:.41s;-moz-animation-delay:.41s}#circularG_2{left:6px;top:6px;animation-delay:.55s;-o-animation-delay:.55s;-ms-animation-delay:.55s;-webkit-animation-delay:.55s;-moz-animation-delay:.55s}#circularG_3{top:0;left:23px;animation-delay:.69s;-o-animation-delay:.69s;-ms-animation-delay:.69s;-webkit-animation-delay:.69s;-moz-animation-delay:.69s}#circularG_4{right:6px;top:6px;animation-delay:.83s;-o-animation-delay:.83s;-ms-animation-delay:.83s;-webkit-animation-delay:.83s;-moz-animation-delay:.83s}#circularG_5{right:0;top:23px;animation-delay:.97s;-o-animation-delay:.97s;-ms-animation-delay:.97s;-webkit-animation-delay:.97s;-moz-animation-delay:.97s}#circularG_6{right:6px;bottom:6px;animation-delay:1.1s;-o-animation-delay:1.1s;-ms-animation-delay:1.1s;-webkit-animation-delay:1.1s;-moz-animation-delay:1.1s}#circularG_7{left:23px;bottom:0;animation-delay:1.24s;-o-animation-delay:1.24s;-ms-animation-delay:1.24s;-webkit-animation-delay:1.24s;-moz-animation-delay:1.24s}#circularG_8{left:6px;bottom:6px;animation-delay:1.38s;-o-animation-delay:1.38s;-ms-animation-delay:1.38s;-webkit-animation-delay:1.38s;-moz-animation-delay:1.38s}@keyframes bounce_circularG{0%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(.3);transform:scale(.3)}}@-webkit-keyframes bounce_circularG{0%{-webkit-transform:scale(1)}100%{-webkit-transform:scale(.3)}}body,html{margin:0;padding:0;width:480px;height:360px}div{box-sizing:border-box}.placeholder{position:relative;width:100%;height:100%;overflow:hidden;font-family:Alice,serif;color:#000;border:2px solid #000;box-sizing:border-box;background:url(https://image.freepik.com/free-vector/abstract-gray-background-with-lines_1108-73.jpg) center}.content{display:none;width:100%;height:100%}#circularG.preloader{position:absolute;top:50%;margin-top:-29px;left:50%;margin-left:-29px}.block{width:100%;height:100%;position:absolute;top:0;left:0;opacity:0}.block.active{opacity:1}.block__img1{position:absolute;width:270px;height:240px;top:50%;margin-top:-105px;left:50%;margin-left:-135px;text-align:center;opacity:0;background-size:contain;background-repeat:no-repeat;background-position:center}.block__img1.min{opacity:1;width:70px;height:70px;margin:0;top:5px}.block__title{display:block;text-align:center;font-size:40px;line-height:40px;font-weight:700;padding:15px;font-family:Oswald,sans-serif}.block__title__text{display:inline-block;vertical-align:middle}.block__title__img{display:inline-block;vertical-align:bottom}.block__title__flag,.block__title__gerb{opacity:0;max-width:100%}.block__title__flag.min,.block__title__gerb.min{transition:All 1s ease;opacity:1}.block__content{opacity:0}.block__content.active{opacity:1;transition:All 1s ease}.block__caption{font-size:25px;font-weight:500;letter-spacing:1.2px}.block__row{font-size:0;padding:30px 15px 0}.block__row:first-child{padding-top:15px}.block__row__col{font-size:20px;display:inline-block;vertical-align:middle;width:60%}.block__row__col:last-child{width:40%}.block__row__col:last-child:first-letter{text-transform:uppercase}.block__text{display:inline-block;line-height:22px}</style>
</head>
<body>
    <div class="placeholder">
        <div class="content">
            <div class="block js-block" data-clone="true">
                <div class="block__title">
                    <span class="block__title__text js-title"></span>
                    <div class="block__img1 js-flag"><img src="" class="block__title__img block__title__flag block__img"></div>
                    <div class="block__img1 js-gerb"><img src="" class="block__title__img block__title__gerb block__img"></div>
                </div>
                <div class="block__content">
                    <div class="block__row">
                        <div class="block__row__col">
                            <span class="block__caption">Столица</span>
                        </div>
                        <div class="block__row__col js-capital"></div>
                    </div>
                    <div class="block__row">
                        <div class="block__row__col">
                            <span class="block__caption">Местные жители</span>
                        </div>
                        <div class="block__row__col js-locals"></div>
                    </div>
                    <div class="block__row">
                        <div class="block__row__col">
                            <span class="block__caption">Валюта</span>
                        </div>
                        <div class="block__row__col js-currency"></div>
                    </div>
                    <div class="block__row">
                        <div class="block__row__col">
                            <span class="block__caption">Телефонный код</span>
                        </div>
                        <div class="block__row__col  js-phone-code"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="">
            <div id="circularG" class="preloader">
                <div id="circularG_1" class="circularG"></div>
                <div id="circularG_2" class="circularG"></div>
                <div id="circularG_3" class="circularG"></div>
                <div id="circularG_4" class="circularG"></div>
                <div id="circularG_5" class="circularG"></div>
                <div id="circularG_6" class="circularG"></div>
                <div id="circularG_7" class="circularG"></div>
                <div id="circularG_8" class="circularG"></div>
            </div>
        </div>
    </div>
<script>$(document).ready(function(){function e(e,t){var n="create"===t?$(".js-block[data-clone=true]").clone().attr("data-clone","false"):$(".js-block[data-clone=true]");n.find(".js-flag").css("background-image","url("+e.flag+")"),n.find(".js-title").html(e.ru_name),n.find(".js-title").closest(".block").attr("title",e.ru_name),n.find(".js-gerb").css("background-image","url("+e.gerb+")"),n.find(".js-capital").html(e.capital),void 0!=e.locals?n.find(".js-locals").html(e.locals):n.find(".js-locals").closest(".block__row").css("display","none"),void 0!=e.currency?n.find(".js-currency").html(e.currency):n.find(".js-currency").closest(".block__row").css("display","none"),void 0!=e.phone_code?n.find(".js-phone-code").html(e.phone_code):n.find(".js-phone-code").closest(".block__row").css("display","none"),n.appendTo(".content")}function t(e){var c=$(".js-block").eq(e);c.addClass("active"),c.find(".js-flag").css({opacity:1}).delay(1500).animate({width:"70px",height:"70px",top:"6px",left:n(c.find(".js-title"),"left")-80+"px",margin:0},800),setTimeout(function(){c.find(".js-gerb").css({opacity:1}).delay(1500).animate({width:"70px",height:"70px",top:"6px",left:n(c.find(".js-title"),"right")+10+"px",margin:0},800)},2e3),setTimeout(function(){c.find(".block__content").addClass("active")},5e3),setTimeout(function(){c.removeClass("active"),s<o.length?t(o[s+1]):(s=0,t(o[s])),s++},8e3)}function n(e,t){return"left"===t?e.offset().left:e.offset().left+parseInt(e.width())}var o=function(e,t){for(var n,o=t-e+1,s=[],c=[];o--;)s.push(o+e);for(;s.length;)n=Math.round(Math.random()*(s.length-1)),c.push(s[n]),s.splice(n,1);return c}(0,87),s=0;$.ajax({url:"https://js.dooh.xyz/countries/server/index.php",success:function(n){console.log("country_data",JSON.parse(n)),n=JSON.parse(n),e(n["Австралия"],"new"),n.length=0;for(var c in n){var a=n[c];n.length++,"Австралия"!=c&&e(a,"create")}setTimeout(function(){$(".preloader").hide(),$(".content").show(),t(o[s])},2e3)},complete:function(){}})});</script>
</body>
</html>