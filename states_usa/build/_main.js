$(document).ready(function(){function t(t){$(".js-capital").html(e[t].capital),$(".js-population").html(e[t].population),$(".js-statehood").html(e[t].statehood),$(".js-territory").html(e[t].territory.name),$(".js-territory-total").html(e[t].territory.total),$(".js-territory-land").html(e[t].territory.land),$(".js-territory-water").html(e[t].territory.water)}function a(t,a,e){var o="create"===e?$(".js-block[data-clone=true]").clone().attr("data-clone","false"):$(".js-block[data-clone=true]");o.find(".js-largest-name").removeClass("two"),o.find(".js-capital-name").removeClass("two"),o.find(".js-state-title").html(t.name),o.find(".js-flag").attr("src",t.flag),t.capital==t.largest_city?(o.find(".js-largest-name").remove(),o.find(".js-capital-name").html(t.capital)):(o.find(".js-largest-name").html(t.largest_city).addClass("two"),o.find(".js-capital-name").html(t.capital).addClass("two")),o.find(".js-population-value").html(t.population),o.find(".js-statehood-value").html(t.statehood);var r;r="ru"===a?"km":"mi",o.find(".js-territory-total-value").html(t.territory.total[r]),o.find(".js-territory-land-value").html(t.territory.land[r]),o.find(".js-territory-water-value").html(t.territory.water[r]),o.appendTo(".content")}var e={ru:{title:"Список Соединенных Штатов Америки",capital:"Столица/Крупнейший город",population:"Население",statehood:"Дата основания",territory:{name:"Территория",total:"Всего",land:"Земля",water:"Вода"}},en:{title:"List of Unated States of America",capital:"Capital/largest city",population:"Population",statehood:"Statehood",territory:{name:"Territory",total:"Total",land:"Land",water:"Water"}}};try{var o,r;$.ajax({url:"http://widgets/states_usa/prod/server/list_en_new.json",beforeSend:function(){o=new Date,r=o.getTime()},success:function(e){o=new Date,console.log((o.getTime()-r)/1e3);try{console.log("sates_usa data - ",e);var l,s;for(var n in e)t(n),l=e[n],s=n;a(l[0],s,"new");for(var i=1;l.length>i;i++)a(l[i],s,"create");var i=1;setInterval(function(){i<l.length?($(".js-block.active").removeClass("active"),$(".js-block").eq(i).addClass("active"),console.log(i),i++):(i=0,$(".js-block").eq(i).addClass("active"))},6e3),$(".js-block").eq(0).addClass("active"),$(".content__wrapper").show(),$(".preloader").hide()}catch(t){console.log(t),console.log("ошибка внутри ajax")}},complete:function(){},error:function(t,a,e){console.log(t,a,e),$(".preloader").addClass("error")}})}catch(t){console.log(t),console.log("ошибка ajax"),$(".preloader").addClass("error")}});