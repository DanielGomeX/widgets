$(document).ready(function(){function t(t,e){var a="front"===e?$(".js-block-front[data-clone=true]"):$(".js-block-back[data-clone=true]");a.find(".js-table").html("");var s=t.date.split("-"),r=new Date(s[2],s[1]-1,s[0]),o={year:"numeric",month:"short",day:"numeric"};if(r=r.toLocaleString("en",o),a.find(".js-home-team").html(t.home_team),a.find(".js-score").html(t.score),a.find(".js-avay-team").html(t.away_team),a.find(".js-date").html(r),t.descr){for(var n=0;4>n;n++)a.find(".js-table").append(t.descr[n]);$(".js-table").find("img").each(function(){switch($(this).attr("alt")){case"goal":$(this).attr("src","http://widgets/head-of-state/prod/server/images/ball.svg");break;case"redcard":$(this).attr("src","http://widgets/head-of-state/prod/server/images/redcard.svg");break;case"yellowcard":$(this).attr("src","http://widgets/head-of-state/prod/server/images/yellowcard.svg")}})}else a.find(".js-table").html('<tr><td class="not-start">'+t.status+"</td></tr>");switch(t.status){case"Не начался":a.find(".js-table").html('<tr><td class="not-start">Not started<div>beginning in </div><div>'+t.time+"</div></td></tr>");break;case"Техн. победа":a.find(".js-table").html('<tr><td class="custom">Technical victory</td></tr>')}$(".js-table").animate({opacity:1},300)}try{var e,a;$.ajax({url:"http://widgets/head-of-state/prod/server/redirect.php",beforeSend:function(){e=new Date,a=e.getTime()},success:function(s){e=new Date,console.log((e.getTime()-a)/1e3);try{console.log("football data - ",JSON.parse(s)),s=JSON.parse(s),t(s[0],"front"),t(s[1],"back");var r=2;setInterval(function(){r<s.length?(r%2?($(".flip-container").removeClass("flip"),t(s[r],"front")):($(".flip-container").addClass("flip"),t(s[r],"back")),r++):(r%2?($(".flip-container").removeClass("flip"),t(s[0],"front"),t(s[1],"back")):($(".flip-container").addClass("flip"),t(s[0],"back"),t(s[1],"front")),r=2)},1e4),$(".preloader").animate({width:"500px",height:"500px","margin-left":"-250px","margin-top":"-250px",opacity:.2},500,function(){$(this).addClass("slow")}),setTimeout(function(){$(".content").show()},600)}catch(t){console.log(t),console.log("ошибка внутри ajax")}},complete:function(){},error:function(t,e,a){console.log(t,e,a),$(".preloader").addClass("error")}})}catch(t){console.log(t),console.log("ошибка ajax"),$(".preloader").addClass("error")}});