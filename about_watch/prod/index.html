<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Все о часах</title>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Oswald:200,300,400" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700,700i,900,900i&amp;subset=cyrillic" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Alice" rel="stylesheet">
    <style>body,html{margin:0;padding:0;width:480px;height:360px}div{box-sizing:border-box}.placeholder{position:relative;width:100%;height:100%;overflow:hidden;font-family:Alice,serif;color:#000;box-sizing:border-box}.content{display:none;width:100%;height:100%;position:relative;left:0}.content__block{position:relative;display:inline-block;vertical-align:top;width:480px;height:360px;padding:10px 15px;background-color:#000;background-repeat:no-repeat;background-position:center;background-size:auto 100%;color:#fff}.content__block:before{content:"";display:block;position:absolute;top:0;left:0;width:100%;height:180px;background:linear-gradient(to bottom,rgba(0,0,0,.9),rgba(255,255,255,0))}.content__block:after{content:"";display:block;position:absolute;bottom:0;left:0;width:100%;height:180px;background:linear-gradient(to top,rgba(0,0,0,.9),rgba(255,255,255,0))}.content__block__title{position:relative;color:#fff;font-size:35px;z-index:9999}.content__block__description{position:absolute;font-size:25px;line-height:28px;max-height:112px;overflow:hidden;bottom:20px;color:#fff;z-index:999}.content__block__img{display:block;float:left;width:200px}.content__block__img img{max-width:100%}.cssload-container.preloader{position:absolute;top:50%;margin-top:-29px;left:50%;margin-left:-29px;width:auto}.cssload-container.preloader.error .cssload-speeding-wheel{border-top-color:red;border-bottom-color:red}</style>
</head>
<body>
    <div class="placeholder">
        <div class="content">
            <div class="content__block js-block" data-clone="true">
                <div class="content__block__title js-title"></div>
                <div class="content__block__description js-description"></div>
            </div>
        </div>
        <div class="cssload-container preloader">
            <div class="cssload-speeding-wheel"></div>
        </div>
    </div>
<script>$(document).ready(function(){function t(t,n){var o="create"===n?$(".js-block[data-clone=true]").clone().attr("data-clone","false"):$(".js-block[data-clone=true]");t.image&&o.css("background-image","url("+t.image+")"),t.title&&o.find(".js-title").html(t.title),t.description&&o.find(".js-description").html(e(t.description)),o.appendTo(".content")}function e(t){t=t.substr(0,145);var e=t.split(" ");return e.pop(),e.join(" ")+" ..."}try{$.ajax({url:"https://js.dooh.xyz/about_watch/server/index.php",success:function(e){console.log("about_watch - data",JSON.parse(e));var n=JSON.parse(e);try{$(".content").css("width",480*n.length),t(n[0],"new");for(var o=1;n.length>o;o++)t(n[o],"create");var a=1;setInterval(function(){a<n.length?($(".content").animate({left:parseInt($(".content").css("left"))-480+"px"},300),a++):($(".content").animate({left:parseInt($(".content").css("left"))-480+"px"},300).css("left",0).animate({left:parseInt($(".content").css("left"))-480+"px"},300),a=0)},8e3),$(".content").show(),$(".preloader").hide()}catch(t){console.log(t),console.log("ошибка внутри ajax")}},complete:function(){},error:function(t,e,n){console.log(t,e,n),$(".preloader").addClass("error")}})}catch(t){console.log(t),console.log("ошибка ajax"),$(".preloader").addClass("error")}});</script>
</body>
</html>